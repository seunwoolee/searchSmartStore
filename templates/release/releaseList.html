{% extends 'baseHTML.html' %}

{% load static %}


{% block stylesheet %}
<link href="{% static 'css/releaseList.css' %}" rel="stylesheet">
{% endblock %}

{% block content %}
<div class="container-fluid">
    <div class="animated fadeIn">
        <div class="card">
            <div class="card-header">
                <i class="fa fa-edit"></i> 출고조회
            </div>
            <div class="card-header">
                <div class="row type_filter">
                    <div class="col-md-5">
                        <div class="form-check form-check-inline" id="releaseType" data-toggle="tooltip" data-original-title="출고구분">
                            <div class="input-group mb-2 mr-sm-2 ">
                                <div class="input-group-prepend">
                                    <div class="input-group-text"><i class="fas fa-sort"></i></div>
                                </div>
                                <select class="form-control">
                                    <option value="전체">전체</option>
                                    <option value="판매">판매</option>
                                    <option value="샘플">샘플</option>
                                    <option value="증정">증정</option>
                                    <option value="이동">이동</option>
                                    <option value="자손">자손</option>
                                    <option value="반품">반품</option>
                                    <option value="폐기">폐기</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-check form-check-inline" id="productType" data-toggle="tooltip" data-original-title="액란구분">
                            <div class="input-group mb-2 mr-sm-2 ">
                                <div class="input-group-prepend">
                                    <div class="input-group-text"><i class="fas fa-sort"></i></div>
                                </div>
                                <select class="form-control">
                                    <option value="전체">전체</option>
                                    <option value="난황">난황</option>
                                    <option value="난백">난백</option>
                                    <option value="전란">전란</option>
                                    <option value="상품">상품</option>
                                    <option value="제외">제외</option>
                                    <option value="원란">원란</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-check form-check-inline" id="productYmd" data-toggle="tooltip" data-original-title="제품 생산일">
                            <div class="input-group mb-2 mr-sm-2 ">
                                <div class="input-group-prepend">
                                    <div class="input-group-text"><i class="far fa-calendar-alt"></i></div>
                                </div>
                                <input type="date" class="form-control"/>
                            </div>
                        </div>
                        <div class="form-check form-check-inline" id="managerFilter" data-toggle="tooltip" data-original-title="담당자">
                            <div class="input-group mb-2 mr-sm-2 ">
                                <div class="input-group-prepend">
                                    <div class="input-group-text"><i class="fas fa-user"></i></div>
                                </div>
                                {{ form.location_manager }}
                            </div>
                        </div>
                        <div class="form-check form-check-inline" id="locationFilter" data-toggle="tooltip" data-original-title="장소">
                            <div class="input-group mb-2 mr-sm-2 ">
                                <div class="input-group-prepend">
                                    <div class="input-group-text"><i class="far fa-building"></i></div>
                                </div>
                                {{ form.location_filter }}
                            </div>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="checkbox" id="moneyMark">
                            <label class="form-check-label" for="moneyMark"><span
                                    class="badge badge-warning">거래명세표 금액표기</span></label>
                        </div>
                    </div>

                    <div class="col-md-7">
                        <!--장소타입 checkbox 시작-->
                        <div class="form-row" id="locationType">
                            <div class="form-group col-md-4">
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" id="B2B" value="01">
                                    <label class="form-check-label" for="B2B"><span
                                            class="badge badge-danger">B2B</span></label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" id="급식" value="02">
                                    <label class="form-check-label" for="급식"><span
                                            class="badge badge-warning">급식</span></label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" id="미군납" value="03">
                                    <label class="form-check-label" for="미군납"><span
                                            class="badge badge-success">미군납</span></label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" id="백화점" value="04">
                                    <label class="form-check-label" for="백화점"><span
                                            class="badge badge-primary">백화점</span></label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" id="온라인" value="05">
                                    <label class="form-check-label" for="온라인"><span
                                            class="badge badge-dark">온라인</span></label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" id="자사몰" value="06">
                                    <label class="form-check-label" for="자사몰"><span
                                            class="badge badge-danger">자사몰</span></label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" id="직거래" value="07">
                                    <label class="form-check-label" for="직거래"><span
                                            class="badge badge-warning">직거래</span></label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" id="특판" value="08">
                                    <label class="form-check-label" for="특판"><span
                                            class="badge badge-success">특판</span></label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" id="하이퍼" value="09">
                                    <label class="form-check-label" for="하이퍼"><span
                                            class="badge badge-primary">하이퍼</span></label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" id="기타" value="99">
                                    <label class="form-check-label" for="기타"><span
                                            class="badge badge-dark">기타</span></label>
                                </div>
                            </div>
                            <div class="form-group col-md-8">
                                <div class="input-daterange  form-row">
                                    <div class="col-lg-4 input-group mb-2 mr-sm-2">
                                        <div class="input-group-prepend ">
                                            <div class="input-group-text"><i class="far fa-calendar-alt"></i>
                                            </div>
                                        </div>
                                        <input type="date" name="start_date" id="start_date"
                                               class="form-control" onchange="autoSetEndDate(event)"/>
                                    </div>
                                    <div class="col-lg-4 input-group mb-2 mr-sm-2">
                                        <div class="input-group-prepend">
                                            <div class="input-group-text"><i class="far fa-calendar-alt"></i>
                                            </div>
                                        </div>
                                        <input name="end_date" type="date" class="form-control"
                                               id="end_date" />
                                    </div>
                                    <div class="col">
                                        <input type="button" name="search" id="search" value="Search"
                                               class="btn btn-info"/>
                                        <input type="button" name="search" id="locationManagerSearch"
                                               value="담당자검색"
                                               class="btn btn-success"/>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
            <div class="card-body table-responsive">
                <ul class="nav nav-tabs nav-fill" role="tablist" id="tabnavigator">
                    <li class="nav-item">
                        <a class="nav-link active" data-toggle="tab" href="#stepOne" role="tab" aria-controls="stepOne">전체</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="tab" href="#stepTwo" role="tab"
                           aria-controls="stepTwo">제품별 집계</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="tab" href="#stepThree" role="tab" aria-controls="stepThree">거래처/제품별
                            집계</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="tab" href="#stepFour" role="tab" aria-controls="stepFour">거래처별
                            집계</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-toggle="tab" href="#stepFive" role="tab" aria-controls="stepFive">제품재고일지</a>
                    </li>
                </ul>
                <div class="tab-content">
                    <div class="tab-pane active animated fadeIn" id="stepOne" role="tabpanel">

                        <table class="table table-striped table-bordered datatable">
                            <thead>
                            <tr>
                                <th style="white-space: nowrap;">거래처명</th>
                                <th>보관장소</th>
                                <th>출고일</th>
                                <th>제품명</th>
                                <th>생산일</th>
                                <th>출고구분</th>
                                <th>특인</th>
                                <th>판매량(KG)</th>
                                <th>판매수량(EA)</th>
                                <th>KG단가</th>
                                <th>판매금액</th>
                                <th>공급가</th>
                                <th>부가세</th>
                                <th>EA단가</th>
                                <th>액란구분</th>
                                <th>주문메모</th>
                                <th>출고메모</th>
                                <th>장소타입</th>
                                <th>담당자</th>
                                <th>세트</th>
                                <th>세트명</th>
                                <th>ID</th>
                                <th>제품코드</th>
                                <th>Actions</th>
                            </tr>
                            </thead>

                            <tfoot>
                            <tr>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th></th>
                            </tr>
                            </tfoot>

                            <tbody>
                            </tbody>
                        </table>
                    </div>
                    <div class="tab-pane animated fadeIn" id="stepTwo" role="tabpanel">
                        <table class="table table-striped table-bordered datatable">
                            <thead>
                            <tr>
                                <th>제품코드</th>
                                <th>특인</th>
                                <th>제품명</th>
                                <th>출고구분</th>
                                <th>액란구분</th>
                                <th>판매량(KG)</th>
                                <th>판매수량(EA)</th>
                                <th>판매금액</th>
                                <th>KG단가</th>
                                <th>공급가</th>
                                <th>부가세</th>
                                <th>EA단가</th>
                                <th>보관장소</th>
                            </tr>
                            </thead>

                            <tfoot>
                            <tr>
                                <!--<th colspan="5" style="text-align:center">합계</th>-->
                                <th></th>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th></th>
                            </tr>
                            </tfoot>

                            <tbody>
                            </tbody>
                        </table>
                    </div>
                    <div class="tab-pane animated fadeIn" id="stepThree" role="tabpanel">

                        <table class="table table-striped table-bordered datatable ">
                            <thead>
                            <tr>
                                <th>제품코드</th>
                                <th>특인</th>
                                <th>제품명</th>
                                <th>출고구분</th>
                                <th>거래처명</th>
                                <th>액란구분</th>
                                <th>판매량(KG)</th>
                                <th>판매수량(EA)</th>
                                <th>판매금액</th>
                                <th>KG단가</th>
                                <th>공급가</th>
                                <th>부가세</th>
                                <th>EA단가</th>
                                <th>보관장소</th>
                            </tr>
                            </thead>

                            <tfoot>
                            <tr>
                                <!--<th colspan="6" style="text-align:center">합계</th>-->
                                <th></th>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th></th>
                            </tr>
                            </tfoot>

                            <tbody>
                            </tbody>
                        </table>
                    </div>
                    <div class="tab-pane animated fadeIn" id="stepFour" role="tabpanel">

                        <table class="table table-striped table-bordered datatable ">
                            <thead>
                            <tr>
                                <th>거래처명</th>
                                <th>판매량(KG)</th>
                                <th>판매수량(EA)</th>
                                <th>판매금액</th>
                                <th>공급가</th>
                                <th>부가세</th>
                            </tr>
                            </thead>

                            <tfoot>
                            <tr>
                                <th style="text-align:center">합계</th>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th></th>
                            </tr>
                            </tfoot>

                            <tbody>
                            </tbody>
                        </table>
                    </div>
                    <div class="tab-pane animated fadeIn" id="stepFive" role="tabpanel">

                        <table class="table table-striped table-bordered datatable ">
                            <thead>
                            <tr>
                                <th>ID</th>
                                <th>코드</th>
                                <th>제품명</th>
                                <th>생산일</th>
                                <th>전일재고</th>
                                <th>생성</th>
                                <th>판매</th>
                                <th>샘플</th>
                                <th>자손</th>
                                <th>미출고품</th>
                                <th>반품</th>
                                <th>재고조정</th>
                                <th>현재고</th>
                            </tr>
                            </thead>

                            <tfoot>
                            <tr>
                                <!--<th colspan="4" style="text-align:center">합계</th>-->
                                <th></th>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th></th>
                            </tr>
                            </tfoot>

                            <tbody>
                            </tbody>
                        </table>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>


<!-- Release EDIT Modal -->
<div class="modal fade everyModal" id="releaseModal" role="dialog">
    <div class="modal-dialog modal-primary">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">수정</h4>
            </div>
            <div class="modal-body">
                <h5 class="mb-4 codeName"></h5>
                <form role="form">
                    {% include 'includes/modal/releaseModifyForm.html' %}
                    <input type="hidden" class="ajaxUrlType" name="ajaxUrlType" value="patch"/>
                    <button type="submit" class="btn btn-primary">OK</button>
                    <button type="button" data-dismiss="modal" class="btn">Cancel</button>
                </form>
            </div>
        </div>
    </div>
</div>

<!--Release Delete Modal -->
<div class="modal fade everyModal" role="dialog" id="confirm">
    <div class="modal-dialog modal-danger">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">데이터를 삭제 하시겠습니까?</h4>
            </div>
            <div class="modal-body">
                <form role="form">
                    <!--{% csrf_token %}-->
                    <input type="hidden" class="ajaxUrlType" name="ajaxUrlType" value="delete"/>
                    <button type="submit" class="btn btn-danger">Delete</button>
                    <button type="button" data-dismiss="modal" class="btn">Cancel</button>
                </form>

            </div>
        </div>
    </div>
</div>

<!-- Release Recall Modal -->
<div class="modal fade everyModal" id="releaseRecallModal" role="dialog">
    <div class="modal-dialog modal-primary">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">반품</h4>
            </div>
            <div class="modal-body">
                <h5 class="mb-4 codeName"></h5>
                <form role="form">
                    {% include 'includes/modal/releaseRecallForm.html' %}
                    <input type="hidden" class="ajaxUrlType" name="ajaxUrlType" value="post"/>
                    <input type="hidden" name="type" value="반품"/>
                    <button type="submit" class="btn btn-primary">OK</button>
                    <button type="button" data-dismiss="modal" class="btn">Cancel</button>
                </form>
            </div>
        </div>
    </div>
</div>


{% endblock %}

{% block js %}
<script src="{% static 'js/index.js' %}"></script>
<script src="{% static 'js/releaseList.js' %}"></script>
{{ form.media.js }}
{% endblock %}